"use strict";(self.webpackChunkmon_app=self.webpackChunkmon_app||[]).push([[820],{80146:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(43504),a=n(80184);function r(e){var t=e.isOpen,n=(e.setIsOpen,e.navigation);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:" fixed  h-full bg-gray-200 p-2  ease-in-out duration-300 ".concat(t?"translate-x-0 ":"-translate-x-full"),children:(0,a.jsx)("h3",{className:"mt-5 text-2xl  flex flex-col",children:n.map((function(e,t){return(0,a.jsxs)(s.OL,{to:e.to,className:"flex justify-start items-center p-2 space-x-3 rounded-md",children:[(0,a.jsx)("span",{className:"".concat(e.icon&&"w-5 h-5"),children:e.icon&&e.icon}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:e.name})]},t)}))})})})}},1039:function(e,t,n){n.d(t,{Z:function(){return a}});var s=n(80184);function a(e){var t=e.title,n=e.setIsOpen,a=e.isOpen;e.menu;return(0,s.jsxs)("div",{className:"flex justify-start items-center bg-white shadow ",children:[(0,s.jsx)("div",{className:"px-2 sm:px-6 lg:px-4",children:a?(0,s.jsxs)("svg",{onClick:function(){return n(!a)},className:"  z-30 flex items-center cursor-pointer right-10 top-6",fill:"#000000",viewBox:"0 0 100 80",width:"20",height:"20",children:[(0,s.jsx)("rect",{width:"10",height:"100"}),(0,s.jsx)("rect",{x:"30",width:"10",height:"100"}),(0,s.jsx)("rect",{x:"60",width:"10",height:"100"})]}):(0,s.jsxs)("svg",{onClick:function(){return n(!a)},className:"  z-30 flex items-center cursor-pointer right-10 top-6",fill:"#000000",viewBox:"0 0 100 80",width:"20",height:"20",children:[(0,s.jsx)("rect",{width:"100",height:"10"}),(0,s.jsx)("rect",{y:"30",width:"100",height:"10"}),(0,s.jsx)("rect",{y:"60",width:"100",height:"10"})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-base py-2 px-2 sm:px-6 lg:px-4  font-medium text-gray-700",children:t&&t})})]})}},56683:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(46971),a=(n(53983),n(80184));function r(e){var t=e.images,n=void 0===t?[]:t,r=e.photoIndex,i=e.isLightBoxOpen,c=e.closePortal,l=e.setPhotoIndex;return i?"string"===typeof n?(0,a.jsx)(s.Z,{mainSrc:n,onCloseRequest:c}):(0,a.jsx)(s.Z,{mainSrc:n[r],nextSrc:n[(r+1)%n.length],prevSrc:n[(r+n.length-1)%n.length],onCloseRequest:c,onMovePrevRequest:function(){return l((r+n.length-1)%n.length)},onMoveNextRequest:function(){return l((r+1)%n.length)}}):null}},94093:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(29439),a=n(72791),r=n(7283),i=n(80184);function c(e){var t=e.title,n=void 0===t?"Are you sure to delete ? ":t,c=e.content,l=void 0===c?"":c,o=e.confirmButton,u=void 0===o?"Confirm":o,d=e.onClickConfirm,m=e.cancelButton,x=void 0===m?"Cancel":m,h=e.onClickCancel,p=e.type,f=e.icon,g=(0,a.useState)(!0),v=(0,s.Z)(g,2),j=v[0],y=v[1],k=(0,a.useRef)(null);return(0,i.jsx)(r.uT.Root,{show:j,as:a.Fragment,children:(0,i.jsx)(r.Vq,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:k,onClose:y,children:(0,i.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,i.jsx)(r.uT.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(r.Vq.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,i.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,i.jsx)(r.uT.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,i.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,i.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,i.jsxs)("div",{className:"sm:flex sm:items-start",children:[f&&(0,i.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ".concat("danger"===p?"bg-red-100":"submit"===p&&"bg-blue-100"," sm:mx-0 sm:h-10 sm:w-10"),children:f}),(0,i.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,i.jsx)(r.Vq.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:n}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("p",{className:"text-sm text-gray-500",children:l})})]})]})}),(0,i.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,i.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 \n                  ".concat("submit"===p?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 ":"bg-red-600 hover:bg-red-700 focus:ring-red-500 "," text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2  sm:ml-3 sm:w-auto sm:text-sm"),onClick:function(){return d()},children:u}),(0,i.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){return h()},ref:k,children:x})]})]})})]})})})}},38125:function(e,t,n){n(72791);var s=n(80184);t.Z=function(e){var t=e.title,n=e.subtitle;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl text-gray-800 font-semibold",children:t}),(0,s.jsx)("p",{className:"mt-3 text-gray-500",children:n&&n})]})}},52710:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(29439),a=n(72791);function r(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],r=t[1],i=(0,a.useState)(0),c=(0,s.Z)(i,2),l=c[0],o=c[1];return{isLightBoxOpen:n,setLightBoxOpen:r,photoIndex:l,setPhotoIndex:o,open:function(){return r(!0)},close:function(){r(!1),o(0)}}}},55761:function(e,t,n){n.d(t,{r:function(){return r}});var s=n(29439),a=n(72791);function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.useState)(e),n=(0,s.Z)(t,2),r=n[0],i=n[1],c=function(){i(!1)},l=function(){i(!0)};return{isLoading:r,stopLoading:c,startLoading:l}}},34458:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var s=n(29439),a=n(72791),r=n(1039),i=n(80146),c=n(69421),l=n(74569),o=n.n(l),u=n(91933),d=n(38125),m=n(55628),x=n(1413),h=n(4138),p=n(52710),f=n(56683),g=n(43504),v=n(9588),j=n(14252),y=n(80184);function k(e){var t=e.track,n=(0,m.a)().user,r=(0,a.useState)(t.likes.includes(n._id)),i=(0,s.Z)(r,2),c=i[0],l=i[1],u=(0,p.Z)();console.log(t,"track");var d=h,k=function(e){o().put("http://localhost:3000/spacetune/api/track/like/".concat(e),{id:n._id}),l(!c)};return(0,y.jsx)("div",{className:"max-w-md w-full mx-auto mt-3 shadow-lg border-black rounded-md duration-300 hover:shadow-sm hover:-translate-y-2",children:(0,y.jsxs)("div",{className:"postInfo",children:[u.isLightBoxOpen&&d&&(0,y.jsx)(f.Z,(0,x.Z)((0,x.Z)({images:d},u),{},{closePortal:u.close})),(0,y.jsx)("img",{onClick:u.open,src:d,loading:"lazy",alt:"Music",className:"w-full cursor-pointer"}),(0,y.jsxs)("div",{className:"flex items-center space-x-2 p-2",children:[(0,y.jsx)(g.rU,{to:"/app/entertainement/track/".concat(t._id),className:"link",children:(0,y.jsx)("h1",{className:"font-semibold text-base",children:t.name})}),(0,y.jsx)("span",{children:c?(0,y.jsx)(j.h_8,{className:"h-5 w-5 text-red-700 cursor-pointer",onClick:function(){return k(t._id)}}):(0,y.jsx)(v.h_8,{className:"h-5 w-5 text-red-700 cursor-pointer",onClick:function(){return k(t._id)}})})]})]})})}function b(){var e=(0,m.a)().user,t=(0,u.useQuery)(["LikesTracks"],(function(){return o().get("http://localhost:3000/spacetune/api/track/favorites/".concat(e._id)).then((function(e){return e.data}))})),n=t.data,s=t.isLoading;t.refetch;return console.log(n,"tracks"),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"mt-4 mx-6 w-full max-w-7xl lg:px-4",children:[(0,y.jsx)("div",{className:"flex justify-between text-start w-full",children:(0,y.jsx)(d.Z,{title:"Favorites tracks"})}),s?(0,y.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE}):(0,y.jsx)("div",{className:"my-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:n&&n.map((function(e){return(0,y.jsx)(k,{track:e})}))})]})})}function w(){var e=(0,m.a)().user,t=(0,a.useState)([]),n=(0,s.Z)(t,2),r=n[0],i=n[1],l=(0,u.useQuery)(["fetchMyTracks"],(function(){return o().get("http://localhost:3000/spacetune/api/track/getTracksByUserId/".concat(e._id)).then((function(e){i(e.data.content)}))})),x=(l.data,l.isLoading);l.refetch;return(0,y.jsxs)("div",{className:"mt-4 mx-6 w-full max-w-7xl lg:px-4",children:[(0,y.jsx)("div",{className:"flex justify-between text-start w-full",children:(0,y.jsx)(d.Z,{title:"My tracks",subtitle:"Listen to your favorite music"})}),x?(0,y.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE}):(0,y.jsx)("div",{className:"my-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:r.map((function(e,t){return(0,y.jsx)(k,{track:e},t)}))})]})}function N(){var e=(0,a.useState)([]),t=(0,s.Z)(e,2),n=t[0],r=t[1],i=(0,u.useQuery)(["fetchAllTracks"],(function(){return o().get("http://localhost:3000/spacetune/api/track/getRandomTracks").then((function(e){r(e.data.content)}))}));i.data,i.isLoading,i.refetch;return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"mt-4 px-2 w-full max-w-7xl lg:px-4",children:[(0,y.jsx)(d.Z,{title:"Tracks",subtitle:"Listen to your favorite track."}),(0,y.jsx)("div",{className:"grid grid-cols-4 gap-4",children:n.map((function(e){return(0,y.jsx)(k,{track:e})}))})]})})}var Z=n(15861),T=n(87757),C=n.n(T),S=n(68870),L=n(19218),I=n(36151),_=n(16871);function O(){var e=(0,a.useState)(),t=(0,s.Z)(e,2),n=t[0],r=t[1],i=(0,a.useState)(""),c=(0,s.Z)(i,2),l=c[0],u=c[1],d=(0,a.useState)(""),x=(0,s.Z)(d,2),h=x[0],p=x[1],f=(0,m.a)().user,g=(0,_.s0)(),v=function(){var e=(0,Z.Z)(C().mark((function e(t){var s,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("song",n),s.append("name",h),s.append("user",f._id),s.append("fileName",l),e.prev=5,e.next=8,o().post("http://localhost:3000/spacetune/api/track/addTrack",s);case 8:a=e.sent,g("/app/entertainement/myTracks"),console.log(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,Z.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t.target.value),console.log("name",h);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)("div",{children:(0,y.jsxs)(S.Z,{component:"span",enctype:"multipart/form-data",children:[(0,y.jsx)("h1",{className:"text-5xl text-center",children:" Upload Track"}),(0,y.jsx)("div",{className:"mt-20 text-center",children:(0,y.jsx)(L.Z,{id:"outlined-basic",label:"Name",variant:"outlined",onChange:j})}),(0,y.jsx)("div",{className:"mt-5 text-center",children:(0,y.jsx)(L.Z,{type:"file",variant:"outlined",onChange:function(e){r(e.target.files[0]),u(e.target.files[0].name)}})}),(0,y.jsx)("div",{className:"mt-5 text-center",children:(0,y.jsx)(I.Z,{variant:"contained",onClick:v,children:"Submit"})})]})})}var B=n(36471),M=n(94093),A=n(55761);function E(){var e=(0,p.Z)(),t=(0,_.TH)(),n=(0,a.useState)(null),r=(0,s.Z)(n,2),i=r[0],c=r[1],l=(0,a.useState)(!1),d=(0,s.Z)(l,2),m=d[0],g=d[1],j=t.pathname.split("/")[4];console.log("location",t.pathname.split("/")[4]);var k=h,b=(0,u.useQuery)(["fetchDetailsTracks"],(function(){return o().get("http://localhost:3000/spacetune/api/track/getTrackById/".concat(j)).then((function(e){return e.data}))})),w=b.data;b.isLoading,b.refetch;console.log("track",w);var N=(0,A.r)(!1),T=(N.isLoading,N.startLoading),S=N.stopLoading,L=(0,_.s0)();function I(){return I=(0,Z.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(),e.next=3,o().delete("http://localhost:3000/spacetune/api/track/deleteTrackById/".concat(t._id));case 3:S(),g(!1),c(null),L("/app/entertainement/myTracks");case 7:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}return(0,y.jsx)("div",{className:"flex h-full",children:(0,y.jsx)("div",{className:"w-1/3",children:(0,y.jsxs)("div",{className:"mx-12",children:[m&&(0,y.jsx)(M.Z,{title:'Are you sure to delete lesson "'.concat(i.name,'" ?'),confirmButton:"Delete",cancelButton:"Cancel",onClickCancel:function(){return g(!1)},onClickConfirm:function(){return function(e){return I.apply(this,arguments)}(i)}}),e.isLightBoxOpen&&k&&(0,y.jsx)(f.Z,(0,x.Z)((0,x.Z)({images:k},e),{},{closePortal:e.close})),(0,y.jsx)("img",{onClick:f.Z.open,src:k,alt:"Music",className:"object-cover"}),(0,y.jsx)("h3",{className:"text-2xl mb-3 lg:text-3xl font-bold sm:text-4xl",children:null===w||void 0===w?void 0:w.name}),(0,y.jsxs)("div",{className:"flex w-full",children:[(0,y.jsx)("audio",{controls:!0,src:"http://localhost:3000/".concat(null===w||void 0===w?void 0:w.song)}),(0,y.jsx)("button",{className:"rounded-md items-center text-sm",onClick:function(){g(!0),c(w)},children:(0,y.jsx)(v.XHJ,{className:"w-5 h-5 mr-2 text-red-500","aria-hidden":"true"})})]})]})})})}function F(){var e=(0,a.useState)(""),t=(0,s.Z)(e,2),n=t[0],r=t[1],i=(0,a.useState)(!1),c=(0,s.Z)(i,2),l=c[0],u=c[1];return(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-center text-6xl",children:"Karaoke Machine "}),(0,y.jsx)("div",{children:(0,y.jsx)("input",{type:"search",className:"\r text-center\r form-control\r block\r w-full\r px-3\r py-1.5\r text-base\r font-normal\r text-gray-700\r bg-white bg-clip-padding\r border border-solid border-gray-300\r rounded\r transition\r ease-in-out\r m-0\r focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\r ",id:"exampleSearch",placeholder:"Type song name",onChange:function(e){r(e.target.value)}})}),(0,y.jsx)(I.Z,{fullWidth:!0,variant:"contained",type:"submit",onClick:function(e){e.preventDefault(),o().post("http://localhost:3000/spacetune/api/track/getvideo",{name:n}).then((function(e){console.log("tes",e),u(e.data)})).catch((function(e){return console.log(e)}))},children:"Search"}),l&&(0,y.jsx)("div",{className:"text-center",children:(0,y.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(l.id),title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})})]})}function P(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],c=t[1];return(0,y.jsxs)("div",{children:[(0,y.jsx)(r.Z,{title:"Entertainement",setIsOpen:c,isOpen:n}),(0,y.jsxs)("div",{className:"flex flex-row",children:[(0,y.jsx)("div",{className:"".concat(n?"w-1/12":"w-0"," flex flex-col"),children:(0,y.jsx)(i.Z,{isOpen:n,setIsOpen:c,navigation:[{name:"Home",to:"",current:!0},{name:"Upload Tracks",to:"uploadtracks",current:!1},{name:"My Tracks",to:"myTracks",current:!1},{name:"Liked Tracks",to:"likedTracks",current:!1},{name:"Karaoke",to:"karaoke",current:!1}]})}),(0,y.jsx)("div",{className:"".concat(n?"w-11/12":"w-full"," flex flex-col p-1 mx-6"),children:(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(B.Z,{}),children:(0,y.jsxs)(_.Z5,{children:[(0,y.jsx)(_.AW,{path:"/",element:(0,y.jsx)(N,{})}),(0,y.jsx)(_.AW,{path:"/uploadtracks",element:(0,y.jsx)(O,{})}),(0,y.jsx)(_.AW,{path:"/myTracks",element:(0,y.jsx)(w,{})}),(0,y.jsx)(_.AW,{path:"/likedTracks",element:(0,y.jsx)(b,{})}),(0,y.jsx)(_.AW,{path:"/track/:trackId",element:(0,y.jsx)(E,{})}),(0,y.jsx)(_.AW,{path:"/karaoke",element:(0,y.jsx)(F,{})})]})})})]})]})}},4138:function(e,t,n){e.exports=n.p+"static/media/music.e2c1039c1e177d892845.png"}}]);
//# sourceMappingURL=820.efdf3095.chunk.js.map