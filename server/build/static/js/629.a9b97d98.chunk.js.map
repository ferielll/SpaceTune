{"version":3,"file":"static/js/629.a9b97d98.chunk.js","mappings":"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","sources":["components/form/Input.jsx","hooks/useLoading.js","pages/authentification/Login.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst Input = React.forwardRef(\r\n  (\r\n    {\r\n      icon = undefined,\r\n      hasError = false,\r\n      error = undefined,\r\n      label,\r\n      className = undefined,\r\n      ...others\r\n    },\r\n    ref\r\n  ) => {\r\n    const defaultClassNames = `w-full px-4 py-2 text-sm border rounded-md form-input focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-600`;\r\n    return (\r\n      <div className=\"flex flex-col w-full relative\">\r\n        {label && (\r\n          <label\r\n            htmlFor={others?.id}\r\n            className=\"block mb-1 text-sm font-semibold text-gray-700\"\r\n          >\r\n            {label}\r\n          </label>\r\n        )}\r\n        <div className={`${icon && \"relative\"}`}>\r\n          {icon && (\r\n            <span className=\"absolute inline-flex items-center h-full px-3 text-sm text-gray-500 border border-gray-300 border-r-1 rounded-l-md bg-gray-50\">\r\n              {icon}\r\n            </span>\r\n          )}\r\n          <input\r\n            ref={ref}\r\n            className={`${defaultClassNames} ${className} ${icon && \"pl-20\"}\r\n             ${\r\n               others?.disabled && \"bg-gray-200 opacity-70 cursor-not-allowed\"\r\n             }`}\r\n            {...others}\r\n          />\r\n        </div>\r\n        {hasError && (\r\n          <span className={`text-sm text-red-500 'text-red-600'}`}>\r\n            {error}\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nexport default Input;\r\n","import { useState } from \"react\";\r\n\r\nexport function useLoading(defaultValue = false) {\r\n  const [loading, setLoading] = useState(defaultValue);\r\n  const stopLoading = () => {\r\n    setLoading(false);\r\n  };\r\n  const startLoading = () => {\r\n    setLoading(true);\r\n  };\r\n  return {\r\n    isLoading: loading,\r\n    stopLoading,\r\n    startLoading,\r\n  };\r\n}\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Input from \"../../components/form/Input\";\r\nimport { useLoading } from \"../../hooks/useLoading\";\r\n\r\nexport default function Login({ setLoggedIn }) {\r\n  const { isLoading, startLoading, stopLoading } = useLoading(false);\r\n  const navigate = useNavigate();\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    formState: { isValid },\r\n  } = useForm({\r\n    defaultValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    mode: \"onChange\",\r\n  });\r\n  const onSubmit = async (data) => {\r\n    const { email, password } = data;\r\n    if (email === \"admin@gmail.com\" && password === \"admin\") {\r\n      navigate(\"/dashboard\");\r\n      return;\r\n    }\r\n    startLoading();\r\n    try {\r\n      await axios\r\n        .post(\"http://localhost:3000/spacetune/api/login\", {\r\n          email,\r\n          password,\r\n        })\r\n        .then((res) => {\r\n          console.log(\"res.data.token\",res.data)\r\n          setLoggedIn(true);\r\n          if (!res.data.success) {\r\n            stopLoading();\r\n            return;\r\n          }\r\n          localStorage.setItem(\"token\", res.data.token);\r\n        });\r\n    } catch (err) {\r\n      console.log(err, \"erreur => signInWithEmailAndPassword\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"h-screen flex bg-gradient-to-tr from-black to-gray-800\">\r\n      <div className=\"flex w-1/2 justify-around items-center\">\r\n        <div>\r\n          <h1 className=\"text-white font-bold text-4xl font-sans\">SpaceTune</h1>\r\n          <p className=\"text-white mt-1\">\r\n            The most popular platform music in the world\r\n          </p>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"block w-28 bg-white text-indigo-800 mt-4 py-2 rounded-2xl font-bold mb-2\"\r\n          >\r\n            Read More\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex w-1/2 justify-center items-center\">\r\n        <form\r\n          className=\"w-1/2 p-12 bg-white rounded-2xl\"\r\n          onSubmit={handleSubmit(onSubmit)}\r\n        >\r\n          <div className=\"flex justify-center\"></div>\r\n          <h1 className=\"mb-4 text-2xl font-bold text-center\">Login</h1>\r\n          <Controller\r\n            name=\"email\"\r\n            control={control}\r\n            rules={{\r\n              required: `Please enter your email.`,\r\n              pattern: {\r\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                message: \"Invalid email\",\r\n              },\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Email\"\r\n                placeholder=\"Email Address\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"password\"\r\n            control={control}\r\n            rules={{\r\n              required: \"Please enter your passwword\",\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <button\r\n            className=\"block cursor-pointer w-full px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white rounded-2xl transition-colors duration-150 bg-blue-600 border border-transparent active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue\"\r\n            href=\"#\"\r\n            disabled={!isValid}\r\n          >\r\n            Sign in\r\n          </button>\r\n          <span className=\"text-sm ml-2 hover:font-semibold cursor-pointer\">\r\n            Forgot Password ?\r\n          </span>\r\n          <div onClick={() => navigate(\"/Register\")}>\r\n            <span className=\"text-sm ml-2 text-blue-500 hover:text-black font-semibold cursor-pointer\">\r\n              Don't have an account ?\r\n            </span>\r\n            <span className=\"text-sm ml-2 text-dark font-semibold cursor-pointer\">\r\n              Register\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Input","React","ref","icon","undefined","hasError","error","label","className","others","htmlFor","id","disabled","useLoading","defaultValue","useState","loading","setLoading","stopLoading","startLoading","isLoading","Login","setLoggedIn","navigate","useNavigate","useForm","defaultValues","email","password","mode","handleSubmit","control","isValid","formState","onSubmit","data","axios","then","res","console","log","success","localStorage","setItem","token","type","name","rules","required","pattern","value","message","render","field","fieldState","invalid","placeholder","href","onClick"],"sourceRoot":""}