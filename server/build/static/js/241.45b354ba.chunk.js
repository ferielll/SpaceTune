(self.webpackChunkmon_app=self.webpackChunkmon_app||[]).push([[241],{80146:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(43504),n=r(80184);function a(e){var t=e.isOpen,r=(e.setIsOpen,e.navigation);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:" fixed  h-full bg-gray-200 p-2  ease-in-out duration-300 ".concat(t?"translate-x-0 ":"-translate-x-full"),children:(0,n.jsx)("h3",{className:"mt-5 text-2xl  flex flex-col",children:r.map((function(e,t){return(0,n.jsxs)(s.OL,{to:e.to,className:"flex justify-start items-center p-2 space-x-3 rounded-md",children:[(0,n.jsx)("span",{className:"".concat(e.icon&&"w-5 h-5"),children:e.icon&&e.icon}),(0,n.jsx)("span",{className:"text-sm font-semibold",children:e.name})]},t)}))})})})}},7293:function(e,t,r){"use strict";var s=r(1413),n=r(45987),a=r(72791),i=r(80184),l=["icon","hasError","error","label","className"],o=a.forwardRef((function(e,t){var r=e.icon,a=void 0===r?void 0:r,o=e.hasError,c=void 0!==o&&o,d=e.error,u=void 0===d?void 0:d,x=e.label,m=e.className,h=void 0===m?void 0:m,p=(0,n.Z)(e,l);return(0,i.jsxs)("div",{className:"flex flex-col w-full relative",children:[x&&(0,i.jsx)("label",{htmlFor:null===p||void 0===p?void 0:p.id,className:"block mb-1 text-sm font-semibold text-gray-700",children:x}),(0,i.jsxs)("div",{className:"".concat(a&&"relative"),children:[a&&(0,i.jsx)("span",{className:"absolute inline-flex items-center h-full px-3 text-sm text-gray-500 border border-gray-300 border-r-1 rounded-l-md bg-gray-50",children:a}),(0,i.jsx)("input",(0,s.Z)({ref:t,className:"".concat("w-full px-4 py-2 text-sm border rounded-md form-input focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-600"," ").concat(h," ").concat(a&&"pl-20","\n             ").concat((null===p||void 0===p?void 0:p.disabled)&&"bg-gray-200 opacity-70 cursor-not-allowed")},p))]}),c&&(0,i.jsx)("span",{className:"text-sm text-red-500 'text-red-600'}",children:u})]})}));t.Z=o},7869:function(e,t,r){"use strict";var s=r(1413),n=r(45987),a=r(72791),i=r(80184),l=["icon","hasError","error","label","className"],o=a.forwardRef((function(e,t){var r=e.icon,a=void 0===r?void 0:r,o=e.hasError,c=void 0!==o&&o,d=e.error,u=void 0===d?void 0:d,x=e.label,m=e.className,h=void 0===m?void 0:m,p=(0,n.Z)(e,l);return(0,i.jsxs)("div",{className:"flex flex-col w-full relative",children:[x&&(0,i.jsx)("label",{htmlFor:null===p||void 0===p?void 0:p.id,className:"block mb-1 text-sm font-semibold text-gray-700",children:x}),(0,i.jsxs)("div",{className:"".concat(a&&"relative"),children:[a&&(0,i.jsx)("span",{className:"absolute inline-flex items-center h-full px-3 text-sm text-gray-500 border border-gray-300 border-r-1 rounded-l-md bg-gray-50",children:a}),(0,i.jsx)("textarea",(0,s.Z)({ref:t,className:"".concat("w-full px-4 py-2 text-sm border rounded-md form-input focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-600"," ").concat(h," ").concat(a&&"pl-20","\n             ").concat((null===p||void 0===p?void 0:p.disabled)&&"bg-gray-200 opacity-70 cursor-not-allowed")},p))]}),c&&(0,i.jsx)("span",{className:"text-sm text-red-500 'text-red-600'}",children:u})]})}));t.Z=o},4070:function(){},459:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ae}});var s=r(72791),n=r(16871),a=r(29439),i=r(74569),l=r.n(i),o=r(91933),c=r(1039),d=r(93074),u=r(80146),x=r(1413),m=r(15861),h=r(87757),p=r.n(h),f=r(87309),v=r(51698),g=r(61134),j=r(7293),b=r(55761),w=r(55628),y=r(80184);var N=function(e){var t=e.item,r=e.isModalVisible,s=e.setModalVisible,n=e.refetch,a=(0,w.a)().user,i=(0,b.r)(!1),o=i.isLoading,c=i.startLoading,d=i.stopLoading,u=(0,g.cI)({defaultValues:{name:t.name,description:t.description,price:t.price,type:t.type},mode:"onChange"}),h=u.handleSubmit,N=u.control,Z=function(){var e=(0,m.Z)(p().mark((function e(r){var i,o,u,x,m;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),i=r.name,o=r.description,u=r.price,x=r.type,m=a._id,e.prev=3,e.next=6,l().put("http://localhost:3000/spacetune/api/formation/update/".concat(t._id),{name:i,description:o,price:u,type:x,teacher:m}).then((function(e){console.log(e,"res"),e.data.success||d()}));case 6:d(),s(!1),n(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0,"error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)(v.Z,{title:"Edit training",visible:r,width:"350px",onCancel:function(){return s(!1)},centered:!0,footer:[(0,y.jsx)(f.Z,{loading:o,onClick:h(Z),className:" text-white text-sm font-medium py-1 px-4 mr-4 rounded-lg transition-duration-200\n                           shadow-md bg-blue-600 ",children:"Confirm"})],children:(0,y.jsxs)("div",{children:[(0,y.jsx)(g.Qr,{name:"name",control:N,rules:{required:"Enter name of the training session."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Name",placeholder:"name",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"description",control:N,rules:{required:"Please enter your description."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Description",placeholder:"Write description...",className:"whitespace-pre-wrap",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"price",control:N,rules:{pattern:{value:/^[0-9]*$/i,message:"price should be number"}},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Price",type:"text",placeholder:"price",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"type",control:N,render:function(e){var t=e.field,r=e.fieldState;r.invalid,r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Type",type:"text",placeholder:"type"}))}})]})})},Z=r(9588),C=r(71666),k=r(97892),S=r.n(k),L=r(7869);function M(e){var t=e.refetch,r=e.onlineLesson,n=(0,s.useState)(!1),i=(0,a.Z)(n,2),l=i[0],o=i[1];return(0,y.jsxs)("div",{className:"mt-8",children:[(0,y.jsx)("h1",{className:"text-2xl font-semibold",children:" Online lesson(s) :"}),(0,y.jsxs)("div",{className:"mt-3 grid border divide-x divide-y rounded-xl overflow-hidden sm:grid-cols-2 lg:divide-y-0 lg:grid-cols-3 xl:grid-cols-4",children:[(0,y.jsx)("div",{className:"relative group bg-gray-100 transition hover:z-[1] hover:shadow-2xl lg:hidden xl:block",children:(0,y.jsxs)("div",{onClick:function(){return o(!0)},className:"justify-center relative h-full p-8 space-y-8 border-dashed rounded-lg cursor-pointer transition duration-300 group-hover:bg-white group-hover:border group-hover:scale-90",children:[(0,y.jsx)("div",{className:"flex justify-center group-hover:text-blue-600",children:(0,y.jsx)(Z.pOD,{className:"w-10 h-10"})}),(0,y.jsxs)("div",{className:"flex justify-center",children:[(0,y.jsx)("h3",{className:" text-lg text-gray-800 font-medium transition group-hover:text-blue-600",children:"Add online lesson"}),l&&(0,y.jsx)(E,{refetch:t,setModalVisible:o,isModalVisible:l})]})]})}),0!==(null===r||void 0===r?void 0:r.length)&&r.map((function(e,t){return(0,y.jsx)("div",{className:"relative group bg-white transition hover:z-[1] hover:shadow-2xl",children:(0,y.jsxs)("div",{className:"relative p-8 space-y-8",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("h5",{className:"text-xl text-gray-800 font-medium transition group-hover:text-blue-600",children:e.name}),(0,y.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,y.jsx)("div",{href:"#",className:"flex justify-between items-center group-hover:text-blue-600",children:(0,y.jsxs)("span",{className:"text-sm",children:["Date : ",S()(e.date).format("MMM DD YYYY HH:mm")]})})]})},t)}))]})]})}var E=function(e){var t=e.refetch,r=e.setModalVisible,s=e.isModalVisible,a=(0,n.UO)().id,i=(0,b.r)(!1),o=i.isLoading,c=i.startLoading,d=i.stopLoading,u=(0,g.cI)({defaultValues:{name:"",description:""},mode:"onChange"}),h=u.handleSubmit,w=u.control;function N(){return(N=(0,m.Z)(p().mark((function e(s){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),e.next=3,l()({method:"put",url:"http://localhost:3000/spacetune/api/formation/addOnlineLesson/".concat(a),data:s});case 3:d(),r(!1),t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,y.jsx)(v.Z,{title:"Add online lesson",visible:s,width:"500px",onCancel:function(){return r(!1)},centered:!0,footer:[(0,y.jsx)(f.Z,{loading:o,onClick:h((function(e){return N.apply(this,arguments)})),className:" text-white text-sm font-medium py-1 px-4 mr-4 rounded-lg transition-duration-200\n                           shadow-md bg-blue-600 ",children:"Confirm"})],children:(0,y.jsxs)("div",{children:[(0,y.jsx)(g.Qr,{name:"name",control:w,rules:{required:"Enter your name."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Name",placeholder:"name",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"description",control:w,rules:{required:"Enter your description."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(L.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Description",placeholder:"Write a description",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"date",control:w,render:function(e){var t=e.field,r=e.fieldState;r.invalid,r.error;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("label",{className:"block mb-1 text-sm font-semibold text-gray-700",children:"Date"}),(0,y.jsx)(C.Z,(0,x.Z)((0,x.Z)({},t),{},{showTime:!0}))]})}})]})})},I=[{name:"My lessons",to:"/",current:!0},{name:"Courses & quizzes",to:"courses",current:!1},{name:"Calendar",to:"/calendar",current:!1}],A=function(){var e=(0,n.UO)().id,t=(0,s.useState)(!1),r=(0,a.Z)(t,2),i=r[0],x=r[1],m=(0,s.useState)(!1),h=(0,a.Z)(m,2),p=(h[0],h[1],(0,s.useState)(!1)),f=(0,a.Z)(p,2),v=f[0],g=f[1],j=(0,n.s0)(),b=(0,o.useQuery)(["fetchDetailsMylesson"],(function(){return l().get("http://localhost:3000/spacetune/api/formation/myLessonById/".concat(e)).then((function(e){return e.data}))})),w=b.data,Z=b.isLoading,C=b.refetch;return(0,y.jsxs)("div",{children:[(0,y.jsx)(c.Z,{title:"My trainings > Details training",setIsOpen:g,isOpen:v,menu:!0}),(0,y.jsxs)("div",{className:"flex flex-row",children:[(0,y.jsx)("div",{className:"".concat(v?"w-1/12":"w-0"," flex flex-col"),children:(0,y.jsx)(u.Z,{isOpen:v,setIsOpen:g,navigation:I})}),(0,y.jsxs)("div",{className:"".concat(v?"w-11/12":"w-full"," px-2 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-14"),children:[i&&(0,y.jsx)(N,{isModalVisible:i,setModalVisible:x,refetch:C,item:w}),(0,y.jsx)("div",{className:"w-full sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-6 lg:py-6",children:!Z&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flex flex-col h-64 max-w-screen-xl bg-white shadow-md rounded-lg lg:flex-row sm:mx-auto",children:[(0,y.jsxs)("div",{className:"relative lg:w-1/2",children:[(0,y.jsx)("img",{src:d,alt:"",className:"object-cover w-full lg:absolute h-80 lg:h-full"}),(0,y.jsx)("svg",{className:"absolute top-0 right-0 hidden h-full text-white lg:inline-block",viewBox:"0 0 20 104",fill:"currentColor",children:(0,y.jsx)("polygon",{points:"17.3036738 5.68434189e-14 20 5.68434189e-14 20 104 0.824555778 104"})})]}),(0,y.jsxs)("div",{className:"flex flex-col justify-center p-4 bg-white lg:p-4 lg:pl-10 lg:w-1/2",children:[(0,y.jsx)("div",{children:(0,y.jsx)("p",{className:"bg-green-300 inline-block px-3 mb-4 text-xs font-semibold tracking-wider text-teal-900 uppercase rounded-full bg-teal-accent-400",children:w.type})}),(0,y.jsx)("h5",{className:"mb-3 text-xl font-bold leading-none sm:text-2xl",children:w.name}),(0,y.jsx)("p",{className:"mb-4 text-gray-800",children:w.description}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{onClick:function(){return j("messenger")},className:"transition-colors duration-150 transform sm:w-auto bg-gradient-to-r from-blue-800 to-blue-900 hover:from-blue-600 hover:to-blue-600 text-white text-base leading-6 font-medium py-1 px-4 mr-4 rounded-lg tracking-wide transition-duration-200\n                           shadow-md bg-blue-600 focus:shadow-outline focus:outline-none",children:"Chat with your team"}),(0,y.jsx)("button",{onClick:function(){x(!0)},className:" text-gray-700 text-base leading-6 font-medium py-1 px-4 mr-4 rounded-lg tracking-wide transition-duration-200\n                           shadow-md focus:shadow-outline focus:outline-none ",children:"Edit"})]})]})]}),(0,y.jsx)("div",{className:"flex flex-col max-w-screen-xl bg-white z-50 lg:flex-row sm:mx-auto mt-4",children:(0,y.jsx)("div",{className:"w-full",children:(0,y.jsx)(M,{onlineLesson:w.onlineLessons,refetch:C})})})]})})]})]})]})},D=r(59934),F=r(38125),V=r(95927),z=r(52710),B=r(56683),O=r(7283),Q=r(10442),W=r(94093);var _=function(e){var t=e.isModalVisible,r=e.setModalVisible,s=e.refetch,n=(0,w.a)().user,a=(0,b.r)(!1),i=a.isLoading,o=a.startLoading,c=a.stopLoading,d=(0,g.cI)({mode:"onChange"}),u=d.handleSubmit,h=d.control,N=(d.register,function(){var e=(0,m.Z)(p().mark((function e(t){var a,i,d,u,x;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),a=t.name,i=t.description,d=t.price,u=t.type,x=n._id,e.prev=3,e.next=6,l().post("http://localhost:3000/spacetune/api/formation/create",{name:a,description:i,price:d,type:u,teacher:x}).then((function(e){console.log(e,"res"),e.data.success||c()}));case 6:c(),r(!1),s(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0,"error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}());return(0,y.jsx)(v.Z,{title:"Add new training",visible:t,width:"350px",onCancel:function(){return r(!1)},centered:!0,footer:[(0,y.jsx)(f.Z,{loading:i,onClick:u(N),className:" text-white text-sm font-medium py-1 px-4 mr-4 rounded-lg transition-duration-200\n                           shadow-md bg-blue-600 ",children:"Confirm"})],children:(0,y.jsxs)("div",{children:[(0,y.jsx)(g.Qr,{name:"name",control:h,rules:{required:"Enter name of the training session."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Name",placeholder:"name",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"description",control:h,rules:{required:"Please enter your description."},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Description",placeholder:"Write description...",className:"whitespace-pre-wrap",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"price",control:h,rules:{pattern:{value:/^[0-9]*$/i,message:"price should be number"}},render:function(e){var t=e.field,r=e.fieldState,s=r.invalid,n=r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Price",type:"text",placeholder:"price",hasError:s,error:n&&n.message}))}}),(0,y.jsx)(g.Qr,{name:"type",control:h,render:function(e){var t=e.field,r=e.fieldState;r.invalid,r.error;return(0,y.jsx)(j.Z,(0,x.Z)((0,x.Z)({},t),{},{label:"Type",type:"text",placeholder:"type"}))}})]})})},U=r(69421),q=[{name:"My lessons",to:"/",current:!0},{name:"Courses & quizzes",to:"courses",current:!1},{name:"Calendar",to:"/calendar",current:!1}],T=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),r=t[0],i=t[1],h=(0,s.useState)(!1),f=(0,a.Z)(h,2),v=f[0],g=f[1],j=(0,s.useState)(!1),C=(0,a.Z)(j,2),k=C[0],L=C[1],M=(0,s.useState)(!1),E=(0,a.Z)(M,2),I=E[0],A=E[1],T=(0,s.useState)(null),P=(0,a.Z)(T,2),R=P[0],Y=P[1],H=(0,w.a)().user,$=(0,n.s0)(),G=(0,b.r)(!1),J=(G.isLoading,G.startLoading),K=G.stopLoading,X=(0,z.Z)(),ee=d,te=(0,o.useQuery)(["fetchMyLessons"],(function(){return l().get("http://localhost:3000/spacetune/api/formation/myLessons/".concat(H._id)).then((function(e){return e.data}))})),re=te.data,se=te.dataUpdatedAt,ne=te.isLoading,ae=te.refetch,ie=(0,s.useMemo)((function(){return ne?[]:re}),[se]);function le(){return le=(0,m.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(),e.next=3,l().delete("http://localhost:3000/spacetune/api/formation/delete/".concat(t._id));case 3:K(),g(!1),Y(null),ae();case 7:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)(c.Z,{title:"My lessons",setIsOpen:i,isOpen:r,menu:!0}),(0,y.jsxs)("div",{className:"flex flex-row",children:[(0,y.jsx)("div",{className:"".concat(r?"w-1/12":"w-0"," flex flex-col"),children:(0,y.jsx)(u.Z,{isOpen:r,setIsOpen:i,navigation:q})}),(0,y.jsx)("div",{className:"".concat(r?"w-11/12":"w-full","  p-1"),children:(0,y.jsx)("div",{className:"flex flex-row justify-center pt-1 mx-auto",children:(0,y.jsxs)("div",{className:"mt-4 px-2 w-full max-w-7xl lg:px-4",children:[(0,y.jsxs)("div",{className:"flex justify-between text-start w-full",children:[(0,y.jsx)("div",{children:(0,y.jsx)(F.Z,{title:"My Lessons"})}),(0,y.jsxs)("div",{className:"flex space-x-5",children:[(0,y.jsx)(D.Z,{}),(0,y.jsx)("button",{onClick:function(){return A(!0)},className:"text-base leading-6 font-medium py-1 px-4 mr-4 rounded-lg tracking-wide shadow-md bg-navbar-color text-gray-100",children:"Add new training"})]}),I&&(0,y.jsx)(_,{isModalVisible:I,setModalVisible:A,refetch:ae})]}),v&&(0,y.jsx)(W.Z,{title:'Are you sure to delete lesson "'.concat(R.name,'" ?'),confirmButton:"Delete",cancelButton:"Cancel",onClickCancel:function(){return g(!1)},onClickConfirm:function(){return function(e){return le.apply(this,arguments)}(R)}}),k&&(0,y.jsx)(N,{isModalVisible:k,setModalVisible:L,refetch:ae,item:R}),ne||0===ie.length?(0,y.jsx)(U.Z,{image:U.Z.PRESENTED_IMAGE_SIMPLE}):(0,y.jsx)("div",{className:"my-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:ie.map((function(e,t){var r;return(0,y.jsxs)("div",{className:"max-w-md w-full mx-auto mt-3 shadow-lg border-black rounded-md duration-300 hover:shadow-sm hover:-translate-y-1",children:[X.isLightBoxOpen&&(0,y.jsx)(B.Z,(0,x.Z)((0,x.Z)({images:e.image[0].imageURL?e.image[0].imageURL:ee},X),{},{closePortal:X.close})),(0,y.jsx)("img",{onClick:X.open,src:e.image[0].imageURL?e.image[0].imageURL:ee,loading:"lazy",alt:e.name,className:"w-full h-56 object-cover rounded-t-md cursor-pointer"}),(0,y.jsxs)("div",{className:"flex justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center pt-2 ml-4 mr-2",children:[(0,y.jsx)("div",{className:"flex items-center w-10 h-10 rounded-full",children:(0,y.jsx)(V.Y,{user:e.teacher,rounded:!0,size:35})}),(0,y.jsxs)("div",{className:"ml-3",children:[(0,y.jsx)("span",{className:"block text-gray-900",children:null===(r=e.teacher)||void 0===r?void 0:r.userName}),(0,y.jsx)("span",{className:"block text-gray-400 text-sm",children:S()(e.createdAt).format("MMM DD YYYY")})]})]}),(0,y.jsxs)(O.v2,{className:"flex justify-center items-center relative",as:"div",children:[(0,y.jsx)("div",{children:(0,y.jsx)(O.v2.Button,{className:"flex cursor-pointer p-1 text-gay-500",children:(0,y.jsx)(Z.AjK,{className:"w-6 h-5 "})})}),(0,y.jsx)(O.uT,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,y.jsxs)(O.v2.Items,{className:"absolute z-50 w-24 mt-14 origin-bottom bg-white divide-y divide-gray-100 rounded-md shadow-xl right-5 ring-2 ring-gray-900 ring-opacity-5 focus:outline-none",children:[(0,y.jsx)("div",{className:"px-1 py-1",children:(0,y.jsx)(O.v2.Item,{children:function(t){var r=t.active;return(0,y.jsx)("button",{onClick:function(){L(!0),Y(e)},className:"".concat(r?"bg-gray-100":"text-gray-700"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Q.d,{className:"w-5 h-5 mr-2 text-blue-500","aria-hidden":"true"}),"Edit"]})})}})}),(0,y.jsx)("div",{className:"px-1 py-1",children:(0,y.jsx)(O.v2.Item,{children:function(t){var r=t.active;return(0,y.jsx)("button",{className:"".concat(r?"bg-gray-100 ":"text-gray-700"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),onClick:function(){g(!0),Y(e)},children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Z.XHJ,{className:"w-5 h-5 mr-2 text-red-500","aria-hidden":"true"}),"Delete"]})})}})})]})})]})]}),(0,y.jsxs)("div",{className:"pt-2 ml-4 mr-2 mb-3 cursor-pointer",onClick:function(){return $("details/".concat(e._id))},children:[(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,y.jsx)("p",{className:"text-gray-500 text-sm mt-1 line-clamp-3",children:e.description})]})]},t)}))})]})})})]})]})},P=r(43504),R=function(e){var t=e.items;return(0,y.jsx)("div",{className:"flex flex-col fixed  p-3 w-40 h-screen bg-gray-200",children:(0,y.jsx)("div",{className:"space-y-3",children:(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsx)("ul",{className:"pt-2 pb-4 space-y-1 text-sm",children:t&&t.map((function(e,t){return(0,y.jsx)("li",{className:"rounded-sm",children:(0,y.jsxs)(P.OL,{to:e.to,className:"flex justify-start items-center p-2 space-x-3 rounded-md",children:[(0,y.jsx)("span",{className:"w-5 h-5  dark:text-coolGray-400",children:e.icon}),(0,y.jsx)("span",{className:"text-sm font-semibold",children:e.name})]})},t)}))})})})})},Y=r(76658),H=r(23006),$=r(44311),G=r(85090),J=function(){var e=(0,n.TH)(),t=[{name:"My lessons",icon:(0,y.jsx)(Z.$lS,{}),to:"/training/dashboardLessons/calendar"},{name:"Courses",icon:(0,y.jsx)(Z.$lS,{}),to:"".concat(e.pathname,"/courses")},{name:"Calendar",icon:(0,y.jsx)(Z.Que,{}),to:"".concat(e.pathname,"/courses")}],r=H.Z.TabPane,i=function(){var e=(0,s.useState)([{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]),t=(0,a.Z)(e,2),r=t[0],n=t[1],i=function(){var e=(0,m.Z)(p().mark((function e(t){var r,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var r=new FileReader;r.readAsDataURL(t.originFileObj),r.onload=function(){return e(r.result)}}));case 4:r=e.sent;case 5:(s=new Image).src=r,window.open(r).document.write(s.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)(Y.Z,{rotate:!0,children:(0,y.jsx)($.Z,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:r,onChange:function(e){var t=e.fileList;n(t)},onPreview:i,children:r.length<5&&"+ Upload"})})};return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)(c.Z,{title:"Courses and Quizzes"}),(0,y.jsx)(R,{items:t}),(0,y.jsx)("div",{className:"flex flex-row justify-center pt-1",children:(0,y.jsx)("div",{className:"mt-4 px-2 w-full max-w-7xl lg:px-4",children:(0,y.jsxs)(H.Z,{defaultActiveKey:"1",children:[(0,y.jsx)(r,{tab:(0,y.jsx)(F.Z,{title:"Courses"}),children:(0,y.jsx)(i,{})},"1"),(0,y.jsx)(r,{tab:(0,y.jsx)(F.Z,{title:"Quizzes"}),children:(0,y.jsx)(G.Z,{})},"2")]})})})]})},K=r(4942),X=r(38596),ee=r(1288),te=r(89526),re=r(38302),se=r(4070),ne=(0,X.Z)((function(e){return{video:(0,K.Z)({width:"1200px"},e.breakpoints.down("xs"),{width:"500px"}),gridContainer:(0,K.Z)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{padding:"10px",margin:"10px"}}})),ae=function(){var e=(0,s.useContext)(se.SocketContext),t=e.name,r=e.callAccepted,n=e.myVideo,a=e.userVideo,i=e.callEnded,l=e.stream,o=e.call,c=ne();return(0,y.jsxs)(ee.Z,{container:!0,className:c.gridContainer,children:[l&&(0,y.jsx)(te.Z,{className:c.paper,children:(0,y.jsxs)(ee.Z,{item:!0,xs:12,md:6,children:[(0,y.jsx)(re.Z,{variant:"h5",gutterBottom:!0,children:t||"Name"}),(0,y.jsx)("video",{playsInline:!0,muted:!0,ref:n,autoPlay:!0,className:c.video})]})}),r&&!i&&(0,y.jsx)(te.Z,{className:c.paper,children:(0,y.jsxs)(ee.Z,{item:!0,xs:12,md:6,children:[(0,y.jsx)(re.Z,{variant:"h5",gutterBottom:!0,children:o.name||"Name"}),(0,y.jsx)("video",{playsInline:!0,ref:a,autoPlay:!0,className:c.video})]})})]})},ie=r(13712),le=r(69115),oe=r(90126),ce=r(78029),de=r(91415),ue=r(69623),xe=r(51257),me=(0,X.Z)((function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:(0,K.Z)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),container:(0,K.Z)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px",border:"2px solid black"}}})),he=function(e){var t=e.children,r=(0,s.useContext)(se.SocketContext),n=r.me,i=r.callAccepted,l=r.name,o=r.setName,c=r.callEnded,d=r.leaveCall,u=r.callUser,x=(0,s.useState)(""),m=(0,a.Z)(x,2),h=m[0],p=m[1],f=me();return(0,y.jsx)(ie.Z,{className:f.container,children:(0,y.jsxs)(te.Z,{elevation:10,className:f.paper,children:[(0,y.jsx)("form",{className:f.root,noValidate:!0,autoComplete:"off",children:(0,y.jsxs)(ee.Z,{container:!0,className:f.gridContainer,children:[(0,y.jsxs)(ee.Z,{item:!0,xs:12,md:6,className:f.padding,children:[(0,y.jsx)(le.Z,{label:"Name",value:l,onChange:function(e){return o(e.target.value)},fullWidth:!0}),(0,y.jsx)(ce.CopyToClipboard,{text:n,className:f.margin,children:(0,y.jsx)(oe.Z,{variant:"contained",color:"primary",fullWidth:!0,startIcon:(0,y.jsx)(de.Z,{fontSize:"large"}),children:"Copy Your ID"})})]}),(0,y.jsxs)(ee.Z,{item:!0,xs:12,md:6,className:f.padding,children:[(0,y.jsx)(re.Z,{gutterBottom:!0,variant:"h6",children:"Make a call"}),(0,y.jsx)(le.Z,{label:"ID to call",value:h,onChange:function(e){return p(e.target.value)},fullWidth:!0}),i&&!c?(0,y.jsx)(oe.Z,{variant:"contained",color:"secondary",startIcon:(0,y.jsx)(ue.Z,{fontSize:"large"}),fullWidth:!0,onClick:d,className:f.margin,children:"Hang Up"}):(0,y.jsx)(oe.Z,{variant:"contained",color:"primary",startIcon:(0,y.jsx)(xe.Z,{fontSize:"large"}),fullWidth:!0,onClick:function(){return u(h)},className:f.margin,children:"Call"})]})]})}),t]})})},pe=function(){var e=(0,s.useContext)(se.SocketContext),t=e.answerCall,r=e.call,n=e.callAccepted;return(0,y.jsx)(y.Fragment,{children:r.isReceivingCall&&!n&&(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,y.jsxs)("h1",{children:[r.name," is calling:"]}),(0,y.jsx)(oe.Z,{variant:"contained",color:"primary",onClick:t,children:"Answer"})]})})},fe=(0,X.Z)((function(e){return{appBar:(0,K.Z)({borderRadius:15,margin:"30px 100px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"600px",border:"2px solid black"},e.breakpoints.down("xs"),{width:"90%"}),image:{marginLeft:"15px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}})),ve=function(){var e=fe();return(0,y.jsx)(se.ContextProvider,{children:(0,y.jsxs)("div",{className:e.wrapper,children:[(0,y.jsx)(ae,{}),(0,y.jsx)(he,{children:(0,y.jsx)(pe,{})})]})})},ge=r(93433),je=r(13688);function be(e){var t=e.conversation,r=e.currentUser,n=(0,s.useState)(null),i=(0,a.Z)(n,2),o=i[0],c=i[1];return(0,s.useEffect)((function(){var e=t.members.find((function(e){return e!==r._id})),s=function(){var t=(0,m.Z)(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l()("http://localhost:3000/spacetune/api/chat/conversation/users/"+e);case 3:r=t.sent,c(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();s()}),[r,t]),(0,y.jsx)("div",{className:"conversation",children:o&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(V.Y,{user:o,rounded:!0,size:32,className:"rounded-full items-start flex-shrink-0 mr-3"}),(0,y.jsxs)("div",{className:"w-full pb-2",children:[(0,y.jsxs)("div",{className:"flex justify-between",children:[(0,y.jsx)("span",{className:"block ml-2 font-semibold text-gray-600",children:o.userName}),(0,y.jsx)("span",{className:"block ml-2 text-sm text-gray-600",children:(0,je.WU)(t.updatedAt)})]}),(0,y.jsx)("span",{className:"block ml-2 text-sm text-gray-600",children:t.lastMessage})]})]})})}function we(e){var t=e.message,r=e.own;return(0,y.jsxs)("div",{className:r?"message own":"message",children:[(0,y.jsxs)("div",{className:"messageTop align",children:[t&&(0,y.jsx)(V.Y,{size:40,className:"messageImg",user:t.sender,rounded:!0}),(0,y.jsx)("p",{className:"messageText",children:t.text})]}),(0,y.jsx)("div",{className:"messageBottom",children:(0,je.WU)(t.createdAt)})]})}var ye=r(18566);function Ne(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),r=t[0],n=t[1],i=(0,s.useState)(null),o=(0,a.Z)(i,2),d=o[0],u=o[1],x=(0,s.useState)([]),h=(0,a.Z)(x,2),f=h[0],v=h[1],g=(0,s.useState)(""),j=(0,a.Z)(g,2),b=j[0],N=j[1],Z=(0,s.useState)(!0),C=(0,a.Z)(Z,2),k=(C[0],C[1]),S=(0,s.useState)(null),L=(0,a.Z)(S,2),M=L[0],E=L[1],I=(0,s.useRef)(),A=(0,w.a)().user,D=(0,s.useRef)();function F(){return V.apply(this,arguments)}function V(){return(V=(0,m.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get("http://localhost:3000/spacetune/api/chat/message/"+(null===d||void 0===d?void 0:d._id));case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,s.useEffect)((function(){I.current=(0,ye.io)("ws://localhost:8900"),I.current.on("getMessage",(function(e){E({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),(0,s.useEffect)((function(){M&&(null===d||void 0===d?void 0:d.members.includes(M.sender))&&v((function(e){return[].concat((0,ge.Z)(e),[M])}))}),[M,d]),(0,s.useEffect)((function(){I.current.emit("addUser",A._id)}),[A]),(0,s.useEffect)((function(){var e=function(){var e=(0,m.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get("http://localhost:3000/spacetune/api/chat/conversation/"+A._id);case 3:t=e.sent,n(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[A._id,f]),(0,s.useEffect)((function(){F()}),[d]);var z=function(){var e=(0,m.Z)(p().mark((function e(t){var r,s,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={sender:A._id,text:b,conversationId:d._id},s=d.members.find((function(e){return e!==A._id})),I.current.emit("sendMessage",{senderId:A._id,receiverId:s,text:b}),e.prev=4,e.next=7,l().post("http://localhost:3000/spacetune/api/chat/message",r);case 7:n=e.sent,F(),k((function(e){return!e})),v([].concat((0,ge.Z)(f),[n.data])),N(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[f]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z,{title:"My trainings > chat "}),(0,y.jsx)("div",{className:"mt-5 container mx-auto",children:(0,y.jsxs)("div",{className:"min-w-full border rounded lg:grid lg:grid-cols-3",children:[(0,y.jsx)("div",{className:"border-r border-gray-300 lg:col-span-1",children:(0,y.jsxs)("ul",{className:"overflow-auto h-[20rem]",children:[(0,y.jsx)("h2",{className:" p-2 text-lg text-white font-semibold bg-blue-500",children:"Chats"}),(0,y.jsx)("li",{children:r.map((function(e){return(0,y.jsx)("div",{onClick:function(){return u(e)},children:(0,y.jsx)(be,{conversation:e,currentUser:A})})}))})]})}),(0,y.jsx)("div",{className:"hidden lg:col-span-2 lg:block",children:(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("div",{className:"relative flex items-center p-2 border-b border-gray-300",children:[(0,y.jsx)("span",{className:"block ml-2 font-bold text-gray-600",children:"Call him"}),(0,y.jsx)("span",{className:"cursor-pointer",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),(0,y.jsx)("div",{className:"relative w-full p-6 overflow-y-auto h-[40rem]",children:(0,y.jsx)("ul",{className:"space-y-2",children:(0,y.jsx)("div",{className:"chatBoxTop",children:f.map((function(e){return(0,y.jsx)("div",{ref:D,children:(0,y.jsx)(we,{message:e,own:e.sender._id===A._id})})}))})})}),(0,y.jsxs)("div",{className:"flex items-center justify-between w-full p-3 border-t border-gray-300",children:[(0,y.jsx)("button",{children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,y.jsx)("input",{placeholder:"write something...",onChange:function(e){return N(e.target.value)},value:b,type:"text",className:"block w-full py-2 pl-4 mx-3 bg-gray-100 rounded-full outline-none focus:text-gray-700",name:"message"}),(0,y.jsx)("button",{onClick:z,children:(0,y.jsx)("svg",{className:"w-5 h-5 text-gray-500 origin-center transform rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,y.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})})]})})]})}var Ze=r(95775);var Ce=function(e){var t=e.views;return(0,y.jsx)("div",{className:"mx-2 w-1/3",children:(0,y.jsx)(Ze.Z,{className:"list-group mt-2",children:(0,y.jsxs)(s.Fragment,{children:[(0,y.jsxs)("h5",{className:"text-red-500 font-semibold",children:["Question ",t.nq,": ",t.question]}),(0,y.jsx)(Ze.Z.Item,{className:"list-group-item",children:"List of users responses"},1),t.choices.map((function(e,t){return(0,y.jsx)(Ze.Z.Item,{className:"list-group-item",children:e},t)}))]},10)})})},ke=r(35405),Se=["#336699","#99CCFF","#999933","#666699","#9999FF","#0066CC","#99CCCC","#999999","#FFCC00","#009999","#99CC33","#FF9900","#ff7c43","#ffa600","#EF6F6C","#465775","#56E39F","#59C9A5","#5B6C5D","#0A2342","#2CA58D","#84BC9C","#CBA328","#f95d6a","#F46197","#DBCFB0","#545775"],Le=function(e){for(var t=e.views,r=[],s=[],n=0,i=Object.entries(t.choices);n<i.length;n++){var l=(0,a.Z)(i[n],2),o=l[0],c=l[1];r.push(o),s.push(c)}var d={maintainAspectRatio:!1,responsive:!0,labels:r,datasets:[{data:s,backgroundColor:Se,hoverBackgroundColor:Se}]};return(0,y.jsxs)("div",{className:"mx-2 w-1/3",children:[(0,y.jsxs)("h5",{className:"text-red-500 font-semibold",children:["Question ",t.nq,": ",t.question]}),(0,y.jsx)(ke.$I,{data:d})]})},Me=function(e){for(var t=e.views,r=[],s=[],n=0,i=Object.entries(t.choices);n<i.length;n++){var l=(0,a.Z)(i[n],2),o=l[0],c=l[1];r.push(o),s.push(c)}var d={labels:r,datasets:[{label:"users answer",backgroundColor:Se,borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:s}]};return(0,y.jsxs)("div",{className:"w-1/3 mx-2",children:[(0,y.jsxs)("h5",{className:"text-red-500 font-semibold",children:["Question ",t.nq,": ",t.question]}),(0,y.jsx)(ke.$Q,{data:d,width:50,height:50})]})};var Ee=function(){var e=(0,s.useState)({details:{},stats:[{choices:[],question:"",typeQuestion:""}]}),t=(0,a.Z)(e,2),r=t[0],i=t[1],o=(0,n.UO)();return(0,s.useEffect)((function(){l().get("http://localhost:3000/spacetune/api/survey/viewStat/".concat(o.idSurvey)).then((function(e){i(e.data)}))}),[o.idSurvey]),(0,y.jsxs)("div",{className:"w-3/4 p-10",children:[(0,y.jsxs)("h1",{className:"text-base font-semibold uppercase",children:["Dashboard: ",r.details.quizName]}),(0,y.jsx)("h1",{className:"text-base font-semibold uppercase",children:"Description:"}),(0,y.jsx)("p",{className:"text-base",children:r.details.quizDescription}),(0,y.jsx)("div",{className:"mt-4",children:(0,y.jsx)("div",{className:"flex",children:r.stats.map((function(e,t){switch(e.typeQuestion){case"text":return(0,y.jsx)(Ce,{views:e});case"uniqueChoice":return(0,y.jsx)(Le,{views:e});case"multipleChoice":return(0,y.jsx)(Me,{views:e})}}))})})]})},Ie=r(98151),Ae=function(){return(0,y.jsx)("div",{children:(0,y.jsxs)(n.Z5,{children:[(0,y.jsx)(n.AW,{path:"/",element:(0,y.jsx)(T,{})}),(0,y.jsx)(n.AW,{path:"/preview",element:(0,y.jsx)(Ie.Z,{})}),(0,y.jsx)(n.AW,{path:"/details/:id",element:(0,y.jsx)(A,{})}),(0,y.jsx)(n.AW,{path:"/details/:id/courses",element:(0,y.jsx)(J,{})}),(0,y.jsx)(n.AW,{path:"/details/:id/messenger",element:(0,y.jsx)(Ne,{})}),(0,y.jsx)(n.AW,{path:"/details/:id/videoCall",element:(0,y.jsx)(ve,{})}),(0,y.jsx)(n.AW,{path:"/details/:id/courses/viewStat/:idSurvey",element:(0,y.jsx)(Ee,{})})]})})}}}]);
//# sourceMappingURL=241.45b354ba.chunk.js.map