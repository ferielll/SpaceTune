"use strict";(self.webpackChunkmon_app=self.webpackChunkmon_app||[]).push([[150],{18342:function(e,t,s){s.r(t),s.d(t,{default:function(){return T}});var n=s(72791),i=s(16871),a=s(15861),l=s(87757),r=s.n(l),c=s(74569),o=s.n(c),d=s(91933),u=s(1039),m=s(93074),x=s(55761),h=s(55628),p=s(87309),f=s(23006),g=s(98151),j=s(42246),v=s(38125),b=s(80184),w=function(){var e=(0,i.UO)().id,t=(0,h.a)().user,s=(0,x.r)(!1),n=s.isLoading,l=s.startLoading,c=s.stopLoading,w=(0,d.useQuery)(["fetchDetailsTraining"],(function(){return o().get("http://localhost:3000/spacetune/api/formation/findOne/".concat(e)).then((function(e){return e.data}))})),y=w.data,N=w.isLoading,Z=w.refetch;function k(){return k=(0,a.Z)(r().mark((function e(s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,o()({method:"put",url:"http://localhost:3000/spacetune/api/formation/subscribe/".concat(s),data:{_id:t._id}});case 3:c(),Z();case 5:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}return(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Z,{title:"Training > Details training"}),(0,b.jsxs)("div",{className:"px-2 py-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-14",children:[!N&&(0,b.jsxs)("div",{className:"flex flex-col max-w-screen-lg overflow-hidden bg-white border rounded shadow-sm lg:flex-row sm:mx-auto",children:[(0,b.jsxs)("div",{className:"relative lg:w-1/2",children:[(0,b.jsx)("img",{src:y.image[0].imageURL?y.image[0].imageURL:m,alt:"",className:"object-cover w-full lg:absolute h-80 lg:h-full"}),(0,b.jsx)("svg",{className:"absolute top-0 right-0 hidden h-full text-white lg:inline-block",viewBox:"0 0 20 104",fill:"currentColor",children:(0,b.jsx)("polygon",{points:"17.3036738 5.68434189e-14 20 5.68434189e-14 20 104 0.824555778 104"})})]}),(0,b.jsxs)("div",{className:"flex flex-col justify-center p-4 bg-white lg:p-8 lg:pl-10 lg:w-1/2",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"bg-green-300 inline-block px-3 py-px mb-4 text-xs font-semibold tracking-wider text-teal-900 uppercase rounded-full bg-teal-accent-400",children:"Guitar"})}),(0,b.jsx)("h3",{className:"text-2xl mb-3 lg:text-3xl font-bold leading-tightsm:text-4xl",children:y.name}),(0,b.jsx)("p",{className:"mb-5 text-gray-600",children:y.description}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(p.Z,{className:"".concat(y.users.includes(t._id)&&"opacity-50 cursor-not-allowed"," inline-flex justify-center text-white text-sm leading-6 font-medium py-1 px-4 mr-4 rounded-lg  tracking-wide transition-duration-200\n                           shadow-md bg-indigo-600 focus:shadow-outline focus:outline-none\n                         "),disabled:y.users.includes(t._id),onClick:function(){return function(e){return k.apply(this,arguments)}(y._id)},loading:n,children:y.users.includes(t._id)?"subscribed":"subscribe"}),(0,b.jsxs)("a",{href:"/","aria-label":"",className:"inline-flex items-center font-semibold transition-colors duration-200 text-deep-purple-accent-400 hover:text-deep-purple-800",children:["Learn More",(0,b.jsx)("svg",{className:"inline-block w-3 ml-2",fill:"currentColor",viewBox:"0 0 12 12",children:(0,b.jsx)("path",{d:"M9.707,5.293l-5-5A1,1,0,0,0,3.293,1.707L7.586,6,3.293,10.293a1,1,0,1,0,1.414,1.414l5-5A1,1,0,0,0,9.707,5.293Z"})})]})]})]})]}),(0,b.jsxs)(f.Z,{defaultActiveKey:"1",children:[(0,b.jsx)(j.Z,{tab:(0,b.jsx)(v.Z,{title:"Courses"})},"1"),(0,b.jsx)(j.Z,{tab:(0,b.jsx)(v.Z,{title:"Quizzes"}),children:(null===y||void 0===y?void 0:y.courses)&&(0,b.jsx)(g.Z,{survey:y.courses})},"2")]})]})]})},y=s(1413),N=s(29439),Z=s(97892),k=s.n(Z),L=s(59934),_=s(52710),A=s(56683),C=s(69421),U=s(21334),M=s(13831),R=s(95927);var S=function(){var e=(0,h.a)().user,t=(0,i.s0)(),s=(0,x.r)(!1),l=s.isLoading,c=s.startLoading,f=s.stopLoading,g=(0,_.Z)(),j=(0,n.useState)(1),w=(0,N.Z)(j,2),Z=w[0],S=w[1],D={page:Z,limit:8},E=function(){var e=(0,a.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,d.useQuery)(["fetchListTraining"],(function(){return o().get("http://localhost:3000/spacetune/api/formation/getAll?pagination=".concat(JSON.stringify(D),"&sort=").concat(JSON.stringify(1))).then((function(e){return e.data}))})),z=T.data,O=T.dataUpdatedAt,Y=T.isLoading,P=T.refetch,W=(0,n.useMemo)((function(){return Y?[]:z.docs}),[O]);function B(){return(B=(0,a.Z)(r().mark((function t(s){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(),t.next=3,o()({method:"put",url:"http://localhost:3000/spacetune/api/formation/subscribe/".concat(s._id,"/").concat(s.teacher._id),data:{_id:e._id}});case 3:M.Z.success("Successfully subscribed",{duration:3}),f(),P();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,n.useEffect)((function(){P()}),[Z]),console.log("trainings",W);var G=m;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(u.Z,{title:"All trainings"}),(0,b.jsx)("div",{className:"flex flex-row justify-center pt-1 mx-auto",children:(0,b.jsxs)("div",{className:"mt-4 px-2 w-full max-w-7xl lg:px-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-start w-full",children:[(0,b.jsx)(v.Z,{title:"Trainings",subtitle:"Trainings that are loved by the community. Updated every hour."}),(0,b.jsx)(L.Z,{})]}),Y||0===W.length?(0,b.jsx)(C.Z,{image:C.Z.PRESENTED_IMAGE_SIMPLE}):(0,b.jsx)("div",{className:"my-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:null===W||void 0===W?void 0:W.map((function(s,n){var i;return(0,b.jsxs)("div",{className:"max-w-md w-full mx-auto mt-3 shadow-lg border-black rounded-md duration-300 hover:shadow-sm hover:-translate-y-2",children:[g.isLightBoxOpen&&(0,b.jsx)(A.Z,(0,y.Z)((0,y.Z)({images:s.image[0].imageURL?s.image[0].imageURL:G},g),{},{closePortal:g.close})),(0,b.jsx)("img",{onClick:g.open,src:s.image[0].imageURL?s.image[0].imageURL:G,loading:"lazy",alt:s.name,className:"w-full h-56 object-cover rounded-t-md cursor-pointer"}),(0,b.jsx)("div",{className:"flex justify-between",children:(0,b.jsxs)("div",{className:"flex items-center pt-2 ml-4 mr-1",onClick:function(){return t("".concat(s._id))},children:[(0,b.jsx)("div",{className:"flex items-center w-10 h-10 rounded-full",children:(0,b.jsx)(R.Y,{user:s.teacher,rounded:!0,size:35})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("span",{className:"block text-gray-900",children:null===(i=s.teacher)||void 0===i?void 0:i.userName}),(0,b.jsx)("span",{className:"block text-gray-400 text-sm",children:k()(s.createdAt).format("MMM DD YYYY")})]})]})}),(0,b.jsxs)("div",{className:"pt-2 ml-4 mr-2 mb-1 cursor-pointer h-20",onClick:function(){return t("".concat(s._id))},children:[(0,b.jsx)("h3",{className:"text-lG font-semibold text-gray-900",children:s.name}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:s.description})]}),(0,b.jsx)("div",{className:"flex justify-start pt-2 ml-4 mr-2 mb-3",children:(0,b.jsx)(p.Z,{className:"".concat(s.users.includes(e._id)&&"opacity-50 cursor-not-allowed"," inline-flex justify-center text-white text-sm leading-6 font-medium py-1 px-4 rounded-lg  tracking-wide transition-duration-200\n                           shadow-md bg-blue-600 focus:shadow-outline focus:outline-none\n                         "),disabled:s.users.includes(e._id),onClick:function(){return function(e){return B.apply(this,arguments)}(s)},loading:l,children:s.users.includes(e._id)?"subscribed":"subscribe"})})]},n)}))}),(!Y||W.length<8)&&(0,b.jsx)(U.Z,{className:"flex justify-center my-5",current:Z,total:null===z||void 0===z?void 0:z.totalDocs,pageSize:D.limit,onChange:E})]})})]})},D=s(71857),E=s(85090),T=function(){return(0,b.jsx)("div",{children:(0,b.jsxs)(i.Z5,{children:[(0,b.jsx)(i.AW,{path:"/",element:(0,b.jsx)(S,{})}),(0,b.jsx)(i.AW,{path:"/:id",element:(0,b.jsx)(w,{})}),(0,b.jsx)(i.AW,{path:"/survey",element:(0,b.jsx)(E.Z,{})}),(0,b.jsx)(i.AW,{path:"/:id/answer/:idPreview",element:(0,b.jsx)(D.Z,{})})]})})}}}]);
//# sourceMappingURL=150.1dc768cc.chunk.js.map