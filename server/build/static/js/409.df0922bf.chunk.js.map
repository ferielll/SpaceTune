{"version":3,"file":"static/js/409.df0922bf.chunk.js","mappings":"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","sources":["components/form/Input.jsx","hooks/useLoading.js","pages/authentification/Register.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst Input = React.forwardRef(\r\n  (\r\n    {\r\n      icon = undefined,\r\n      hasError = false,\r\n      error = undefined,\r\n      label,\r\n      className = undefined,\r\n      ...others\r\n    },\r\n    ref\r\n  ) => {\r\n    const defaultClassNames = `w-full px-4 py-2 text-sm border rounded-md form-input focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-600`;\r\n    return (\r\n      <div className=\"flex flex-col w-full relative\">\r\n        {label && (\r\n          <label\r\n            htmlFor={others?.id}\r\n            className=\"block mb-1 text-sm font-semibold text-gray-700\"\r\n          >\r\n            {label}\r\n          </label>\r\n        )}\r\n        <div className={`${icon && \"relative\"}`}>\r\n          {icon && (\r\n            <span className=\"absolute inline-flex items-center h-full px-3 text-sm text-gray-500 border border-gray-300 border-r-1 rounded-l-md bg-gray-50\">\r\n              {icon}\r\n            </span>\r\n          )}\r\n          <input\r\n            ref={ref}\r\n            className={`${defaultClassNames} ${className} ${icon && \"pl-20\"}\r\n             ${\r\n               others?.disabled && \"bg-gray-200 opacity-70 cursor-not-allowed\"\r\n             }`}\r\n            {...others}\r\n          />\r\n        </div>\r\n        {hasError && (\r\n          <span className={`text-sm text-red-500 'text-red-600'}`}>\r\n            {error}\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nexport default Input;\r\n","import { useState } from \"react\";\r\n\r\nexport function useLoading(defaultValue = false) {\r\n  const [loading, setLoading] = useState(defaultValue);\r\n  const stopLoading = () => {\r\n    setLoading(false);\r\n  };\r\n  const startLoading = () => {\r\n    setLoading(true);\r\n  };\r\n  return {\r\n    isLoading: loading,\r\n    stopLoading,\r\n    startLoading,\r\n  };\r\n}\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Input from \"../../components/form/Input\";\r\nimport { useLoading } from \"../../hooks/useLoading\";\r\n\r\nexport default function Register() {\r\n  const { isLoading, startLoading, stopLoading } = useLoading(false);\r\n  //helpers\r\n  const navigate = useNavigate();\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    formState: { isValid },\r\n    watch,\r\n  } = useForm({\r\n    defaultValues: {\r\n      userName: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      birthday: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    },\r\n    mode: \"onChange\",\r\n  });\r\n\r\n  const password = watch(\"password\");\r\n  const onSubmit = async (data) => {\r\n    startLoading();\r\n    try {\r\n      await axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:3000/spacetune/api/register\",\r\n        data: data,\r\n      }).then((res) => {\r\n        if (!res.data.success) {\r\n          stopLoading();\r\n          return;\r\n        }\r\n      });\r\n      stopLoading();\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      console.log(err, \"erreur => signInWithEmailAndPassword\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"h-screen flex bg-gradient-to-tr from-black to-gray-800\">\r\n      <div className=\"flex w-1/2 justify-around items-center\">\r\n        <div>\r\n          <h1 className=\"text-white font-bold text-4xl font-sans\">SpaceTune</h1>\r\n          <p className=\"text-white mt-1\">\r\n            {\" \"}\r\n            The most popular platform music in the world\r\n          </p>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"block w-28 bg-white text-indigo-800 mt-4 py-2 rounded-2xl font-bold mb-2\"\r\n          >\r\n            Read More\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex w-1/2 justify-center items-center\">\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"w-1/2 p-12 bg-white rounded-2xl\"\r\n        >\r\n          <div className=\"flex justify-center\"></div>\r\n          <h1 className=\"mb-4 text-2xl font-bold text-center\">Register</h1>\r\n          <Controller\r\n            name=\"userName\"\r\n            control={control}\r\n            rules={{\r\n              required: `Please enter your username.`,\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Username\"\r\n                placeholder=\"username\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"email\"\r\n            control={control}\r\n            rules={{\r\n              required: `Please enter your email.`,\r\n              pattern: {\r\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                message: \"Invalid email\",\r\n              },\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Email\"\r\n                placeholder=\"enter your email address\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"phone\"\r\n            control={control}\r\n            rules={{\r\n              pattern: {\r\n                value: /^[0-9]{8}$/i,\r\n                message: \"Invalid phone number\",\r\n              },\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                icon=\"(+216)\"\r\n                label=\"Phone\"\r\n                type=\"text\"\r\n                placeholder=\"phone number\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"birthday\"\r\n            control={control}\r\n            rules={{\r\n              required: `Please enter your birthday.`,\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Birthday\"\r\n                type=\"date\"\r\n                placeholder=\"birthday\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"password\"\r\n            control={control}\r\n            rules={{\r\n              required: \"Please enter your passwword\",\r\n              minLength: { value: 6, message: \"min length 6 characters\" },\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name=\"confirmPassword\"\r\n            control={control}\r\n            rules={{\r\n              required: \"Confirm password is required\",\r\n              minLength: 6,\r\n              validate: (confirmPassword) => confirmPassword === password,\r\n            }}\r\n            render={({ field, fieldState: { invalid, error } }) => (\r\n              <Input\r\n                {...field}\r\n                label=\"Confirm password\"\r\n                type=\"password\"\r\n                placeholder=\"confirm your password\"\r\n                hasError={invalid}\r\n                error={error && error.message}\r\n              />\r\n            )}\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"block w-full px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white rounded-2xl transition-colors duration-150 bg-blue-600 border border-transparent active:bg-blue-600 hover:bg-blue-700 focus:outline-none focus:shadow-outline-blue\"\r\n            href=\"#\"\r\n          >\r\n            Sign up\r\n          </button>\r\n          <div onClick={() => navigate(\"/login\")}>\r\n            <span className=\"text-sm ml-2 text-blue-500 hover:text-black font-semibold cursor-pointer\">\r\n              You have an account ?\r\n            </span>\r\n            <span className=\"text-sm ml-2 text-dark font-semibold cursor-pointer\">\r\n              Login\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Input","React","ref","icon","undefined","hasError","error","label","className","others","htmlFor","id","disabled","useLoading","defaultValue","useState","loading","setLoading","stopLoading","startLoading","isLoading","Register","navigate","useNavigate","useForm","defaultValues","userName","email","phone","birthday","password","confirmPassword","mode","handleSubmit","control","formState","isValid","watch","onSubmit","data","axios","method","url","then","res","success","console","log","type","name","rules","required","render","field","fieldState","invalid","placeholder","message","pattern","value","minLength","validate","href","onClick"],"sourceRoot":""}